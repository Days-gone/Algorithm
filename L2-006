#include<iostream>
#include<unordered_map>
#include<queue>

using namespace std;

const int N  = 10010;

int inorder[N];
int postorder[N];
unordered_map<int,int>l,r,pos;//pos存储值的下标是多少

int build(int pl,int pr,int il,int ir)
{
    int root = postorder[pr];
    int k = pos[root];
    if (il < k)l[root] = build(pl,pl+k-1-il,il,k-1);
    if (k < ir)r[root] = build(pl+k-1-il+1, pr-1 ,k+1,ir);//注意右边界
    return root;
}

void bfs(int x)
{
    queue<int>q;
    q.push(x);
    
    while(q.size())
    {
        auto t = q.front();
        q.pop();
        printf("%d ",t);
        if (l.count(t))q.push(l[t]);
        if (r.count(t))q.push(r[t]);
    }

}

int main()
{
    int n;
    cin>>n;
    for(int i = 0; i < n ;i ++)cin>>postorder[i];
    for(int i = 0; i < n ;i ++)
    {
        cin>>inorder[i];
        pos[inorder[i]] = i;
    }

    int root = build(0,n-1,0,n-1);
    bfs(root);
    return 0;
}
